<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Royal Scroll Message</title>
      <link rel="stylesheet" href="style.css" />

  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Great Vibes', cursive;
    }

.main-content {
    margin-top: 30px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  .scroll-container {
    background: linear-gradient(to bottom, #ffffff, #ffffff);
    background-size: cover;
    width: 500px;
    height: 0;
    overflow: hidden;
    border-top: 14px solid #4f0404;
    border-bottom: 14px solid #4f0404;
    box-shadow: 0 6px 25px rgba(0, 0, 0, 0.2);
    transition: height 2s ease, padding 2s ease;
    padding: 0 25px;
    border-radius: 10px;
    z-index: 1;
  }

.scroll-container.open {
  height: 600px;
  padding-top: 40px;
  padding-bottom: 40px;
  overflow-y: auto; /* <-- Add this */
  z-index: 1;
}


  .scroll-text {
    font-size: 1.5rem;
    color: #923c03;
    text-align: center;
    line-height: 1.9;
  }

  .button-container {
  margin-top: 30px;
  text-align: center;
  position: relative; /* Required for z-index to take effect */
  z-index: 10;
}


  .reveal-btn {
    padding: 12px 28px;
    font-size: 1.3rem;
  background: linear-gradient(to right, #4f0404, #9d1a1a);
    color: #fff6ea;
    border: none;
    cursor: pointer;
      z-index: 10;
  position: relative;
    border-radius: 10px;
    box-shadow: 0 5px 12px rgba(0, 0, 0, 0.2);
    font-family: 'Great Vibes', cursive;
    transition: background 0.3s ease;
  }

  .reveal-btn:hover {
    background: linear-gradient(to right, rgb(230, 113, 113), #ff4141);
  }

  @keyframes fadeIn {
  from { opacity: 0; transform: translateX(-50%) translateY(-10px); }
  to { opacity: 1; transform: translateX(-50%) translateY(0); }
}

@keyframes fadeOut {
  to { opacity: 0; transform: translateX(-50%) translateY(-10px); }
}

  </style>
</head>
<body>
    <audio id="openScrollSound" src="audio/scroll.mp3" preload="auto"></audio>
<audio id="unlockSound" src="audio/chime.mp3" preload="auto"></audio>
<audio id="errorSound" src="audio/wrong.mp3" preload="auto"></audio>
<audio id="popupSound" src="audio/popup.mp3" preload="auto"></audio>
<audio id="closeScrollSound" src="audio/scroll.mp3" preload="auto"></audio>

    <header>
        <nav>
        <ul class="nav-links">
            <li><a href="index.html">Home</a></li>
            <li><a href="love_quiz.html">Quiz</a></li>
            <li><a href="gallery.html">Gallery</a></li>
            <li><a href="letter.html" class="active">Letter</a></li>
            <li><a href="surprise.html">Surprise</a></li>
        </ul>
        </nav>
    </header>

    <div id="butterflyHint" style="
  position: fixed;
  top: 20px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(255, 245, 235, 0.95);
  border: 2px solid #ce7d7d;
  padding: 14px 24px;
  border-radius: 12px;
  font-family: 'Great Vibes', cursive;
  font-size: 1.6rem;
  color: #923c03;
  box-shadow: 0 0 10px rgba(0,0,0,0.2);
  animation: fadeIn 1s ease-in-out;
  z-index: 9999;
">
  ✨ Click anywhere to let the butterfly inside me fly... 🦋
</div>


<div id="passwordModal" style="
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 100vw;
  background: rgba(0,0,0,0.6);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 10000;
">
  <div style="
    background: white;
    padding: 30px;
    border-radius: 10px;
    text-align: center;
    box-shadow: 0 0 15px rgba(0,0,0,0.3);
    font-family: 'Great Vibes', cursive;
    color: #923c03;
  " class="modal-content">
    <h2 style="margin-bottom: 20px;">Enter Secret Password</h2>
    <input type="password" id="passwordInput" style="
      padding: 10px 20px;
      font-size: 1.2rem;
      border-radius: 8px;
      border: 1px solid #ccc;
    " />
    <br><br>
    <button onclick="checkPassword()" style="
      padding: 10px 20px;
      font-size: 1.2rem;
  background: linear-gradient(to right, #4f0404, #9d1a1a);
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    ">Unlock</button>
    <p id="errorText" style="color: red; margin-top: 10px; display: none;">Incorrect password. Try again.</p>
<p id="hintText" style="color: #925003; margin-top: 8px; display: none; font-style: italic;">
  Hint: You have same password😉
</p>
  </div>
</div>


<div class="main-content">
  <div class="scroll-container" id="scroll">
    <div class="scroll-text">
      <p>To My Cutieee 🦋</p>
      <p>This is the most heartfelt way I could express how deeply I am in love with you😘. Kyuki tum jaanti ho ki mai likhne aur bolne me kitna kharab hu so I made this for you</p>
      <p>It’s been 1 year since we began this beautiful journey together, and I still feel the same love when I am with you❤️. 
      Tumhare wo cute-cute expresssion dekh ke mere andar waise hi butterfly udti hai jaisi is screen pe click krne se udti hai(click krke dekho).
      Tumhare saath maine zindagi ke woh sabhi emotions experience kiye hain jo ek insaan kar sakta hai — chahe woh khushi mein saath hansna ho, pyaar mein kho jaana ho, dukh mein rona ho, ya phir gusse mein ek dusre se lad jaana... sab kuch. 
      Tum jab hasti ho na, to aur bhi khoobsurat lagti ho — aur tumhare wo bunny wale cute se daant dekh kar ek alag hi khushi hoti hai🐰. 
      But in sab chijo ke upar tumhare saath hasna, tumhari baatein sun na aur tumhari bakchodi me hissa lena are my favorite things😚. I wish ki tumko duniya ki saari khushiya mile aur tumhari un khshiyo me mai bhi saath rahu😉</p>
      <p>I still remember that day jab hum mall mein ghoomne gaye the… I saw a watch that I really liked, but maine nhi liya, because it was expensive. Mujhe laga, chhodo, abhi zarurat nahi hai. But you.....tumne woh watch mere liye khareed li...despite the fact that you weren’t even earning at that time. That moment spoke volumes. It wasn't about the watch... it was about your heart, tumhara pyaar, tumhari intention, aur tumhara sacrifice. You made me feel seen, valued, and deeply lovedl💞.</p>
      <p>I know ki mai kaafi galtiyan karta hu aur tumko gussa dilata hu and you deserve better(lekin isi se kaam chalao) but I promise I will try to become the best for you💖. Bas isi tarah jab bhi hum Mandir se gujre tum mere pith pe haath rakh ke mere lie bhi Bhagwan se aashirvad maangti rhna.</p>
      <p>Mujhe kabhi kisi ne is tarah pyaar nahi kiya jaise tumne kiya hai. Tum har chhoti badi cheez mere liye karti ho, meri care karti ho — bina mere bole. Jab bhi mereko double thoughts hue hai, you are always there to resolve that. Without you I don't think I am able to make it till this day, so thank you for all the things🥺</p>
      <p>I Love You Baby💗</p>
      <p>Forever yours,</p>
      <p>❤️</p>
    </div>
  </div>
  </div>

  <div class="button-container">
    <button class="reveal-btn" id="reveal-btn" onclick="toggleScroll()">Unroll Scroll</button>
  </div>

  <script>
function toggleScroll() {
  const scroll = document.getElementById('scroll');
  const button = document.getElementById('reveal-btn');
  const popupSound = document.getElementById('popupSound');
    popupSound.volume = 0.3;
  const closeSound = document.getElementById('closeScrollSound');

  if (!scroll.classList.contains('open')) {
    // Play popup sound when showing modal
    popupSound.play();
    document.getElementById('passwordModal').style.display = 'flex';
  } else {
    // Play scroll close sound
    closeSound.play();
    scroll.classList.remove('open');
    button.textContent = 'Unroll Scroll';
  }
}

document.addEventListener("click", (e) => {
  const modal = document.getElementById("passwordModal");
  const modalStyle = window.getComputedStyle(modal);
  const hint = document.getElementById("butterflyHint");

  if (hint) {
    hint.style.animation = 'fadeOut 0.8s ease-in-out forwards';
    setTimeout(() => hint.remove(), 800);
  }

  if (modalStyle.display !== "flex") {
    releaseButterfly(e.clientX, e.clientY);
  }
});


function checkPassword() {
  const input = document.getElementById('passwordInput').value;
  const modal = document.getElementById('passwordModal');
  const error = document.getElementById('errorText');
  const correctPassword = "3112p";
  const scroll = document.getElementById('scroll');
  const button = document.getElementById('reveal-btn');

  const unlockSound = document.getElementById('unlockSound');
  unlockSound.volume = 0.6;
  const errorSound = document.getElementById('errorSound');
  const openSound = document.getElementById('openScrollSound');

  if (input.toLowerCase() === correctPassword.toLowerCase()) {
    modal.style.display = "none";
    scroll.classList.add('open');
    button.textContent = 'Roll Scroll';
    error.style.display = 'none';
    document.getElementById('passwordInput').value = '';
    unlockSound.play();
    setTimeout(() => openSound.play(), 500); // Slight delay after unlock
  } else {
    error.style.display = 'block';
    document.getElementById('hintText').style.display = 'block';
    errorSound.play();
  }
}




  const starSVG = `
  <svg
    class="sparkling-star"
    width="30"
    height="30"
    viewBox="0 0 24 24"
    fill="#fff8dc"
    xmlns="http://www.w3.org/2000/svg"
    style="position: fixed; pointer-events: none;"
  >
    <path d="M12 2l2.4 6.8H22l-5.6 4.2L18.8 22 12 17.6 5.2 22l2.4-9L2 8.8h7.6z"/>
  </svg>
`;

function createRandomStar() {
  const div = document.createElement('div');
  div.innerHTML = starSVG;
  const star = div.firstElementChild;

  // Random position
  const top = Math.random() * 90;
  const left = Math.random() * 90;
  star.style.top = top + 'vh';
  star.style.left = left + 'vw';

  // Random size
  const size = 15 + Math.random() * 20;
  star.setAttribute('width', size);
  star.setAttribute('height', size);

  // Random twinkle animation
  star.style.animation = 'twinkle ' + (1 + Math.random() * 2).toFixed(1) + 's ease-in-out infinite';
  document.body.appendChild(star);
}

  for (let i = 0; i < 30; i++) {
  createRandomStar();
}

function releaseButterfly(x, y) {
  const butterfly = document.createElement("div");
  butterfly.className = "butterfly";

  const body = document.createElement("div");
  body.className = "butterfly-body";
  body.textContent = "🦋";

  butterfly.appendChild(body);

  // Set the butterfly's start position based on click
  butterfly.style.left = x + "px";
  butterfly.style.top = y + "px";

  document.body.appendChild(butterfly);

  setTimeout(() => butterfly.remove(), 12000);
}


// Attach event listener to release on click
// Only release butterfly if modal is not visible
document.addEventListener("click", (e) => {
  const modal = document.getElementById("passwordModal");
  const modalStyle = window.getComputedStyle(modal);

  if (modalStyle.display !== "flex") {
    releaseButterfly(e.clientX, e.clientY);
  }
});


// Close modal when clicking outside modal content
// Click outside modal-content closes modal
document.getElementById('passwordModal').addEventListener('click', function(event) {
  const modalContent = document.querySelector('.modal-content');

  if (!modalContent.contains(event.target)) {
    this.style.display = 'none';
    document.getElementById('passwordInput').value = '';
    document.getElementById('errorText').style.display = 'none';
  }
});

// Prevent clicks inside modal-content from closing the modal
document.querySelector('.modal-content').addEventListener('click', function(event) {
  event.stopPropagation(); // Prevent bubbling to parent
});


  </script>
</body>
</html>
